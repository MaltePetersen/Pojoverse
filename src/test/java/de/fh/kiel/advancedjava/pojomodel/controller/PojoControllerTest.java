package de.fh.kiel.advancedjava.pojomodel.controller;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.MvcResult;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;

import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

@SpringBootTest
@AutoConfigureMockMvc
public class PojoControllerTest {

    @Autowired
    private MockMvc mvc;


    @Test
    public void getPojo() throws Exception {

        MvcResult result = mvc.perform(MockMvcRequestBuilders.post("/pojo")
                .content("yv66vgAAADsAVgoAAgADBwAEDAAFAAYBABBqYXZhL2xhbmcvT2JqZWN0AQAGPGluaXQ+AQADKClWCQAIAAkHAAoMAAsADAEAGWZoL2tpZWwvcG9qby9tb2RlbC9UaWNrZXQBAAJpZAEAEExqYXZhL2xhbmcvTG9uZzsJAAgADgwADwAQAQALY29uY2VydE5hbWUBABJMamF2YS9sYW5nL1N0cmluZzsJAAgAEgwAEwAQAQAJZmlyc3ROYW1lCQAIABUMABYAEAEAB3N1ck5hbWUJAAgAGAwAGQAaAQAIZGF0ZVRpbWUBABlMamF2YS90aW1lL0xvY2FsRGF0ZVRpbWU7CgACABwMAB0AHgEACGdldENsYXNzAQATKClMamF2YS9sYW5nL0NsYXNzOwoAIAAhBwAiDAAjACQBABFqYXZhL3V0aWwvT2JqZWN0cwEABmVxdWFscwEAJyhMamF2YS9sYW5nL09iamVjdDtMamF2YS9sYW5nL09iamVjdDspWgoAIAAmDAAnACgBAARoYXNoAQAWKFtMamF2YS9sYW5nL09iamVjdDspSRIAAAAqDAArACwBABdtYWtlQ29uY2F0V2l0aENvbnN0YW50cwEAcyhMamF2YS9sYW5nL0xvbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvdGltZS9Mb2NhbERhdGVUaW1lOylMamF2YS9sYW5nL1N0cmluZzsBAARDb2RlAQAPTGluZU51bWJlclRhYmxlAQBiKExqYXZhL2xhbmcvTG9uZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS90aW1lL0xvY2FsRGF0ZVRpbWU7KVYBAAVnZXRJZAEAEigpTGphdmEvbGFuZy9Mb25nOwEABXNldElkAQATKExqYXZhL2xhbmcvTG9uZzspVgEADmdldENvbmNlcnROYW1lAQAUKClMamF2YS9sYW5nL1N0cmluZzsBAA5zZXRDb25jZXJ0TmFtZQEAFShMamF2YS9sYW5nL1N0cmluZzspVgEADGdldEZpcnN0TmFtZQEADHNldEZpcnN0TmFtZQEACmdldFN1ck5hbWUBAApzZXRTdXJOYW1lAQALZ2V0RGF0ZVRpbWUBABsoKUxqYXZhL3RpbWUvTG9jYWxEYXRlVGltZTsBAAtzZXREYXRlVGltZQEAHChMamF2YS90aW1lL0xvY2FsRGF0ZVRpbWU7KVYBABUoTGphdmEvbGFuZy9PYmplY3Q7KVoBAA1TdGFja01hcFRhYmxlAQAIaGFzaENvZGUBAAMoKUkBAAh0b1N0cmluZwEAClNvdXJjZUZpbGUBAAtUaWNrZXQuamF2YQEAEEJvb3RzdHJhcE1ldGhvZHMPBgBJCgBKAEsHAEwMACsATQEAJGphdmEvbGFuZy9pbnZva2UvU3RyaW5nQ29uY2F0RmFjdG9yeQEAmChMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO0xqYXZhL2xhbmcvU3RyaW5nO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7CABPAQBMQ29uY2VydFRpY2tldHtpZD0BLCBjb25jZXJ0TmFtZT0nAScsIGZpcnN0TmFtZT0nAScsIHN1ck5hbWU9JwEnLCBkYXRlVGltZT0BfQEADElubmVyQ2xhc3NlcwcAUgEAJWphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXAHAFQBAB5qYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMBAAZMb29rdXAAIQAIAAIAAAAFAAIACwAMAAAAAgAPABAAAAACABMAEAAAAAIAFgAQAAAAAgAZABoAAAAPAAEABQAGAAEALQAAACEAAQABAAAABSq3AAGxAAAAAQAuAAAACgACAAAADQAEAA8AAQAFAC8AAQAtAAAAUAACAAYAAAAgKrcAASortQAHKiy1AA0qLbUAESoZBLUAFCoZBbUAF7EAAAABAC4AAAAeAAcAAAAQAAQAEQAJABIADgATABMAFAAZABUAHwAWAAEAMAAxAAEALQAAAB0AAQABAAAABSq0AAewAAAAAQAuAAAABgABAAAAGQABADIAMwABAC0AAAAiAAIAAgAAAAYqK7UAB7EAAAABAC4AAAAKAAIAAAAdAAUAHgABADQANQABAC0AAAAdAAEAAQAAAAUqtAANsAAAAAEALgAAAAYAAQAAACEAAQA2ADcAAQAtAAAAIgACAAIAAAAGKiu1AA2xAAAAAQAuAAAACgACAAAAJQAFACYAAQA4ADUAAQAtAAAAHQABAAEAAAAFKrQAEbAAAAABAC4AAAAGAAEAAAApAAEAOQA3AAEALQAAACIAAgACAAAABiortQARsQAAAAEALgAAAAoAAgAAAC0ABQAuAAEAOgA1AAEALQAAAB0AAQABAAAABSq0ABSwAAAAAQAuAAAABgABAAAAMQABADsANwABAC0AAAAiAAIAAgAAAAYqK7UAFLEAAAABAC4AAAAKAAIAAAA1AAUANgABADwAPQABAC0AAAAdAAEAAQAAAAUqtAAXsAAAAAEALgAAAAYAAQAAADkAAQA+AD8AAQAtAAAAIgACAAIAAAAGKiu1ABexAAAAAQAuAAAACgACAAAAPQAFAD4AAQAjAEAAAQAtAAAAtAACAAMAAABpKiumAAUErCvGAA4qtgAbK7YAG6UABQOsK8AACE0qtAAHLLQAB7gAH5kAPyq0AA0stAANuAAfmQAxKrQAESy0ABG4AB+ZACMqtAAULLQAFLgAH5kAFSq0ABcstAAXuAAfmQAHBKcABAOsAAAAAgAuAAAAJgAJAAAAQgAHAEMAGABEAB0ARQAzAEYAQQBHAE8ASABdAEkAaABFAEEAAAANAAUHDgH8AE4HAAhAAQABAEIAQwABAC0AAABDAAQAAQAAACsIvQACWQMqtAAHU1kEKrQADVNZBSq0ABFTWQYqtAAUU1kHKrQAF1O4ACWsAAAAAQAuAAAABgABAAAATgABAEQANQABAC0AAAAyAAUAAQAAABoqtAAHKrQADSq0ABEqtAAUKrQAF7oAKQAAsAAAAAEALgAAAAYAAQAAAFMAAwBFAAAAAgBGAEcAAAAIAAEASAABAE4AUAAAAAoAAQBRAFMAVQAZ")
                .accept(MediaType.APPLICATION_JSON))
                .andExpect(status().isOk())
                .andReturn();

    }
}
